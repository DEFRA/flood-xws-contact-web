{% extends "form.html" %}

{% block beforeForm %}
  <h1 class="govuk-heading-l">Flood warning locations</h1>
  <dl class="govuk-summary-list">
    {% for location in data.locations %}
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__value">
          {{ location.name }}
        </dt>
        <dd class="govuk-summary-list__actions">
          <a class="govuk-link govuk-link--no-visited-state"
            href="">
            Remove<span class="govuk-visually-hidden"> address</span>
          </a>
        </dd>
      </div>
    {% endfor %}
  </dl>
  <p>
    <a class="govuk-link--no-visited-state" href="/location">Add another location</a>
  </p>
{% endblock %}

{% block form %}
  <hr class="govuk-section-break govuk-section-break--xl">
  {{ govukRadios({
    idPrefix: "severity",
    name: "severity",
    fieldset: {
      legend: {
        text: "Which flood warnings do you need?",
        isPageHeading: false,
        classes: "govuk-fieldset__legend--m"
      }
    },
    items: [
      {
        value: "warnings-only",
        text: "Warnings and severe warnings",
        checked: data.severity === "warnings-only",
        hint: {
          text: "Flooding to property or a danger to life is expected in this location."
        }
      },
      {
        value: "all",
        text: "All flood warnings including minor warnings",
        checked: data.severity === "all",
        hint: {
          text: "These may be shallow flooding of roads, fields and footpaths that may not be near me but may connect to waterways in this location."
        }
      }
    ],
    errorMessage: errors.severity
  }) }}
{% endblock %}


{% block afterForm %}
  {# <pre>{{ data | dump(2) }}</pre> #}
{% endblock %}
